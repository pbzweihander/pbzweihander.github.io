<!doctype html><html lang=ko_KR><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=UTF-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1" name=viewport><title>Arch Linux Installation Guide</title><meta content="Arch Linux Installation Guide" name=title><meta content="Zola v0.16.1" name=generator><meta content=website property=og:type><meta content=https://pbzweihander.github.io/post/arch-linux-installation/ property=og:url><meta property=og:site_name><meta content="Arch Linux Installation Guide" property=og:title><meta content=summary_large_image property=twitter:card><meta content=https://pbzweihander.github.io/post/arch-linux-installation/ property=twitter:url><meta content="Arch Linux Installation Guide" property=twitter:title><link href=https://pbzweihander.github.io/post/arch-linux-installation/ rel=canonical><script type=application/ld+json>
            {
                
                "url":"https://pbzweihander.github.io/post/arch-linux-installation/",
                "@type":"WebSite",
                "headline":"Arch Linux Installation Guide",
                "name":"Arch Linux Installation Guide",
                
                "@context":"https://schema.org"
            }
        </script><link href="https://pbzweihander.github.io/ atom.xml" rel=alternate title=RSS type=application/atom+xml><link href=https://pbzweihander.github.io/style.css rel=stylesheet><body theme=auto><div class=w><header><nav><a href=/>~home</a><a href=/post/>/posts</a><a href=/tags/>#tags</a><a href=/atom.xml>=feed</a></nav><p><a href=..>..</a>/arch-linux-installation<p class=post-meta><time datetime=2018-10-26>2018-10-26</time><h1 id=_title>Arch Linux Installation Guide</h1></header><main aria-label=Content class=page-content>Table of contents <ul><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#설치-전-할-일>설치 전 할 일</a><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#설치>설치</a><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#시스템-기본-설정>시스템 기본 설정</a><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#재부팅>재부팅</a><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#네트워크-설정>네트워크 설정</a> <ul><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#networkmanager>NetworkManager</a><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#무선-네트워크>무선 네트워크</a></ul><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#부트로더-설치>부트로더 설치</a> <ul><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#GRUB>GRUB</a><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#systemd-boot>systemd-boot</a></ul><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#gui-설치>GUI 설치</a> <ul><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#gnome>GNOME</a><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#kde>KDE</a><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#xfce4>xfce4</a></ul><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#기타>기타</a> <ul><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#linux-lts-설치>linux-lts 설치</a></ul><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#설치-중-문제가-발생했을-때>설치 중 문제가 발생했을 때</a> <ul><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#pgp-키-에러가-날때>PGP 키 에러가 날때</a></ul></ul><blockquote><p>Disclamer:<br> This guide is for personal use, written in Korean, and not guaranteed for complete and successful installation.<br> Please refer to <a href=https://wiki.archlinux.org/index.php/Installation_guide rel=noopener target=_blank>arch linux wiki</a> for actual guide.</blockquote><h2 id=설치-전-할-일><a aria-label=설치-전-할-일 href=#설치-전-할-일>##</a><span> </span>설치 전 할 일</h2><ol><li><p>UEFI로 부팅되었는지 체크</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>ls</span><span> /sys/firmware/efi/efivars
</span></code></pre> <ul><li>폴더가 존재한다면 UEFI로 부팅 성공</ul><li><p>Wifi가 필요하다면 연결</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>wifi-menu
</span></code></pre> <ul><li><code>ping google.com</code> 으로 연결 확인</ul><li><p>시계 업데이트</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>timedatectl</span><span> set-ntp true
</span></code></pre><li><p>디스크 파티셔닝 및 포맷</p> <ol><li><p>파티셔닝</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>cgdisk</span><span> /dev/sda
</span></code></pre> <ul><li>/dev/sda1: boot 파티션, 1GB, EFI System (EF00)<li>/dev/sda2: swap 파티션, RAM 크기보다 조금 크게, Linux swap (8200)<li>/dev/sda3: root 파티션, Linux filesystem (8300)</ul><li><p>포맷</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>mkfs.fat -F32</span><span> /dev/sda1
</span><span style=color:#bf616a>mkswap</span><span> /dev/sda2
</span><span style=color:#bf616a>mkfs.ext4</span><span> /dev/sda3
</span></code></pre><li><p>스왑 활성화</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>swapon</span><span> /dev/sda2
</span></code></pre></ol><li><p>디스크 마운트</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>mount</span><span> /dev/sda3 /mnt
</span><span style=color:#bf616a>mkdir</span><span> /mnt/boot
</span><span style=color:#bf616a>mount</span><span> /dev/sda1 /mnt/boot
</span></code></pre></ol><h2 id=설치><a aria-label=설치 href=#설치>##</a><span> </span>설치</h2><ol><li><p><code>/etc/pacman.d/mirrorlist</code>에서 pacman 한국 미러 추가</p> <pre style=background:#2b303b;color:#c0c5ce><code><span>Server = https://ftp.lanet.kr/pub/archlinux/$repo/os/$arch
</span><span>Server = http://ftp.lanet.kr/pub/archlinux/$repo/os/$arch
</span><span>Server = http://mirror.premi.st/archlinux/$repo/os/$arch
</span></code></pre> <ul><li>가끔 미러의 상태가 변할 때가 있으니 <a href=https://www.archlinux.org/mirrors/status/ rel=noopener target=_blank>Arch Linux Mirror Status</a> 참고해서 추가하자</ul><li><p>기본 패키지 설치</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>pacstrap</span><span> /mnt base base-devel
</span></code></pre></ol><h2 id=시스템-기본-설정><a aria-label=시스템-기본-설정 href=#시스템-기본-설정>##</a><span> </span>시스템 기본 설정</h2><ol><li><p>fstab 파일 생성</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>genfstab -U</span><span> /mnt >> /mnt/etc/fstab
</span></code></pre><li><p>설치한 리눅스로 chroot</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>arch-chroot</span><span> /mnt
</span></code></pre><li><p>타임존 설정</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>ln -sf</span><span> /usr/share/zoneinfo/Asia/Seoul /etc/localtime
</span><span style=color:#bf616a>hwclock --systohc --utc
</span></code></pre><li><p>로케일 생성</p> <ol><li><p><code>/etc/locale.gen</code>에서 로케일을 uncomment</p> <ul><li><code>en_US.UTF-8 UTF-8</code><li><code>ko_KR.UTF-8 UTF-8</code></ul><li><p><code>locale-gen</code>으로 로케일 생성</p><li><p>사용할 로케일을 <code>/etc/locale.conf</code>에 추가</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#96b5b4>echo</span><span> LANG=en_US.UTF-8 > /etc/locale.conf
</span></code></pre></ol><li><p>네트워크 설정</p> <ol><li><p><code>/etc/hostname</code>에서 호스트네임 설정</p><li><p><code>/etc/hosts</code>에서 설정한 호스트네임 추가</p> <pre style=background:#2b303b;color:#c0c5ce><code><span>127.0.0.1	localhost
</span><span>::1		localhost
</span><span>127.0.1.1	HOSTNAME.localdomain	HOSTNAME
</span></code></pre><li><p><a href=https://pbzweihander.github.io/post/arch-linux-installation/#%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EC%84%A4%EC%A0%95>네트워크 설정</a> 참고</p></ol><li><p>유저 생성</p> <ol><li><p>새 유저 생성</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>useradd -m -G</span><span> sudo</span><span style=color:#bf616a> -s</span><span> /bin/bash USERNAME
</span><span style=color:#bf616a>passwd</span><span> USERNAME
</span></code></pre><li><p><code>EDITOR=nano visudo</code> 후 <code>%sudo ALL=(ALL) ALL</code>를 uncomment</p><li><p>root 잠그기</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>passwd</span><span> root</span><span style=color:#bf616a> -dl
</span></code></pre></ol><li><p>부트로더 설치</p> <ul><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#%EB%B6%80%ED%8A%B8%EB%A1%9C%EB%8D%94-%EC%84%A4%EC%B9%98>부트로더 설치</a> 참고</ul><li><p>GUI 설치</p> <ul><li><a href=https://pbzweihander.github.io/post/arch-linux-installation/#GUI-%EC%84%A4%EC%B9%98>GUI 설치</a> 참고</ul></ol><h2 id=재부팅><a aria-label=재부팅 href=#재부팅>##</a><span> </span>재부팅</h2><pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#96b5b4>exit
</span><span style=color:#bf616a>umount -R</span><span> /mnt/boot
</span><span style=color:#bf616a>umount -R</span><span> /mnt
</span><span style=color:#bf616a>reboot
</span></code></pre><hr><h2 id=네트워크-설정><a aria-label=네트워크-설정 href=#네트워크-설정>##</a><span> </span>네트워크 설정</h2><p><a href=https://wiki.archlinux.org/index.php/Network_configuration rel=noopener target=_blank>Arch Wiki/Network Configuration</a><p>DHCP를 세팅하거나, NetworkManager를 설치하면 된다.<p>GUI 환경을 세팅할거면 얌전히 NetworkManager를 설치하자.<h3 id=networkmanager><a aria-label=networkmanager href=#networkmanager>###</a><span> </span>NetworkManager</h3><pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>pacman -S</span><span> networkmanager
</span><span style=color:#bf616a>systemctl</span><span> enable NetworkManager.service
</span></code></pre><p>시스템 트레이가 필요하면 <code>network-manager-applet</code> 설치<h3 id=무선-네트워크><a aria-label=무선-네트워크 href=#무선-네트워크>###</a><span> </span>무선 네트워크</h3><p><a href=https://wiki.archlinux.org/index.php/Wireless_network_configuration rel=noopener target=_blank>Arch Wiki/Wireless Network Configuration</a> 참조<p><code>iw</code>, <code>wpa_supplicant</code>, <code>gnome-keyring</code>을 설치하면 대충 된다<h2 id=부트로더-설치><a aria-label=부트로더-설치 href=#부트로더-설치>##</a><span> </span>부트로더 설치</h2><p><a href=https://wiki.archlinux.org/index.php/Category:Boot_loaders rel=noopener target=_blank>Arch Wiki/Category:Boot Loaders</a><p>intel 또는 AMD CPU 사용자라면 <a href=https://wiki.archlinux.org/index.php/Microcode rel=noopener target=_blank>microcode</a>를 설치해야한다.<ul><li>intel이라면 <code>intel-ucode</code><li>AMD라면 <code>amd-ucode</code></ul><h3 id=GRUB><a aria-label=GRUB href=#GRUB>###</a><span> </span>GRUB</h3><ol><li><p><code>grub</code>과 <code>efibootmgr</code> 설치</p><li><p>부트로더 설치</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>grub-install --target</span><span>=x86_64-efi</span><span style=color:#bf616a> --efi-directory</span><span>=/boot</span><span style=color:#bf616a> --bootloader-id</span><span>=grub</span><span style=color:#bf616a> --recheck
</span></code></pre><li><p><code>/etc/default/grub</code>에서 설정</p> <ul><li><code>GRUB_TIMEOUT</code> : <code>1</code></ul><li><p>설정파일 생성</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>grub-mkconfig -o</span><span> /boot/grub/grub.cfg
</span></code></pre></ol><h3 id=systemd-boot><a aria-label=systemd-boot href=#systemd-boot>###</a><span> </span>systemd-boot</h3><ol><li><p>부트로더 설치</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>bootctl --path</span><span>=/boot install
</span></code></pre><li><p>root 파티션의 PARTUUID를 확인</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>blkid -s</span><span> PARTUUID</span><span style=color:#bf616a> -o</span><span> value /dev/sda3
</span></code></pre> <ul><li>위 줄을 실행하면 root 파티션의 PARTUUID가 출력된다</ul><li><p><code>/boot/loader/entries/arch.conf</code> 파일을 생성</p> <pre style=background:#2b303b;color:#c0c5ce><code><span>title Arch Linux
</span><span>linux /vmlinuz-linux
</span><span>initrd /initramfs-linux.img
</span><span>options root=PARTUUID=(아까 읽은 PARTUUID) rw
</span></code></pre> <blockquote><pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>blkid -s</span><span> PARTUUID</span><span style=color:#bf616a> -o</span><span> value /dev/sda3 > /boot/loader/entries/arch.conf
</span></code></pre><p>위 처럼 실행한 후 수정하면 편하다</blockquote><li><p><code>/boot/loader/loader.conf</code>를 수정</p> <pre style=background:#2b303b;color:#c0c5ce><code><span>default arch
</span><span>timeout 1
</span><span>editor 0
</span></code></pre></ol><h2 id=gui-설치><a aria-label=gui-설치 href=#gui-설치>##</a><span> </span>GUI 설치</h2><p>아치 위키를 참조해서 그래픽카드 드라이버 설치. 인텔이면 <code>mesa</code>, <code>xf86-video-intel</code>을 설치하면 대충 된다.<p>터치패드가 있다면 <code>xf86-input-synaptics</code> 설치<h3 id=gnome><a aria-label=gnome href=#gnome>###</a><span> </span>GNOME</h3><p>아주 쉽다.<pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>pacman -S</span><span> gnome
</span><span style=color:#bf616a>systemctl</span><span> enable gdm.service
</span></code></pre><h3 id=kde><a aria-label=kde href=#kde>###</a><span> </span>KDE</h3><ol><li><p>X Server 설치</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>pacman -S</span><span> xorg-server xorg-server-utils
</span></code></pre><li><p><code>plasma</code> 설치</p><li><p>plasma에 기본 프로그램이 하나도 없기 때문에 <code>konsole</code> 등의 기본 프로그램을 꼭 설치</p><li><p>언어팩 설치</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>pacman -S</span><span> kde-l10n-ko
</span></code></pre><li><p>디스플레이 매니저 활성화</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>systemctl</span><span> enable sddm.service
</span></code></pre></ol><h3 id=xfce4><a aria-label=xfce4 href=#xfce4>###</a><span> </span>xfce4</h3><ol><li><p>X Server 설치</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>pacman -S</span><span> xorg-server xorg-server-utils
</span></code></pre><li><p><code>xfce4</code> 설치</p><li><p>디스플레이 매니저를 설치해야한다. 만만한 GDM을 써보자</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>pacman -S</span><span> gdm
</span><span style=color:#bf616a>systemctl</span><span> enable gdm.service
</span></code></pre></ol><h2 id=기타><a aria-label=기타 href=#기타>##</a><span> </span>기타</h2><h3 id=linux-lts-설치><a aria-label=linux-lts-설치 href=#linux-lts-설치>###</a><span> </span>linux-lts 설치</h3><p><code>linux</code> 커널이 가끔 불안정할 때가 있어서 <code>linux-lts</code>를 선호<ol><li><code>linux-lts</code> 패키지 설치<li>부트로더가 linux-lts로 부팅하도록 설정 <ul><li><p>GRUB</p> <ol><li><p><code>/etc/default/grub</code> 수정</p> <ul><li><code>GRUB_DISABLE_SUBMENU</code> : <code>y</code><li>linux와 lts 중 선택하여 부팅하고, 이전 선택을 기억하고 싶다면 <ul><li><code>GRUB_TIMEOUT</code> : 충분히 늘리기 (예: <code>4</code>)<li><code>GRUB_DEFAULT</code> : <code>saved</code><li><code>GRUB_SAVEDEFAULT</code> : <code>true</code></ul><li>lts로만 부팅하고 싶다면 <ul><li>lts로 부팅하고 <code>linux</code>를 삭제<li>또는 <code>GRUB_DEFAULT</code>를 lts로 바꾸기</ul></ul><li><p>설정파일 생성</p> <pre class=language-bash data-lang=bash style=background:#2b303b;color:#c0c5ce><code class=language-bash data-lang=bash><span style=color:#bf616a>grub-mkconfig -o</span><span> /boot/grub/grub.cfg
</span></code></pre></ol><li><p>systemd-boot</p> <ol><li><p><code>/boot/loader/entries/arch-lts.conf</code> 파일 생성</p> <pre style=background:#2b303b;color:#c0c5ce><code><span>title Arch Linux LTS
</span><span>linux /vmlinuz-linux-lts
</span><span>initrd /initramfs-linux-lts.img
</span><span>options root=PARTUUID=(root 파티션의 PARTUUID) rw
</span></code></pre><li><p>기본으로 부팅하고 싶다면 <code>/boot/loader/loader.conf</code> 수정</p> <pre style=background:#2b303b;color:#c0c5ce><code><span>default arch-lts
</span><span>
</span><span>...
</span></code></pre></ol></ul></ol><h2 id=설치-중-문제가-발생했을-때><a aria-label=설치-중-문제가-발생했을-때 href=#설치-중-문제가-발생했을-때>##</a><span> </span>설치 중 문제가 발생했을 때</h2><h3 id=pgp-키-에러가-날때><a aria-label=pgp-키-에러가-날때 href=#pgp-키-에러가-날때>###</a><span> </span>PGP 키 에러가 날때</h3><p><code>archlinux-keyring</code>, <code>gnome-keyring</code>을 재설치하고 다시 해보자</main><footer><p class=to-top><a href=#_title>^ Top</a><p class=taxonomies><a href=/tags/archlinux>#archlinux</a></footer></div>